
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-8.5.10">
    
    
      
        <title>6. Option Structures - blackscholes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="cyan">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#6-option-structures" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="blackscholes" class="md-header__button md-logo" aria-label="blackscholes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9h-1.5m0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5v-7.5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            blackscholes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              6. Option Structures
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      blackscholes
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../1.quickstart/" class="md-tabs__link">
      1. Quickstart
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../2.price/" class="md-tabs__link">
      2. Price calculation
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../3.the_greeks_blackscholes/" class="md-tabs__link">
      3. The Greeks (Black-Scholes)
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../4.the_greeks_black76/" class="md-tabs__link">
      4. The Greeks (Black-76)
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../5.itm/" class="md-tabs__link">
      5. In-The-Money proxies
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      6. Option Structures
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../7.references/" class="md-tabs__link">
      7. Source Code References
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../8.disclaimer/" class="md-tabs__link">
      8. Disclaimer
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../contributing/" class="md-tabs__link">
      Contributing
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="blackscholes" class="md-nav__button md-logo" aria-label="blackscholes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9h-1.5m0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5v-7.5Z"/></svg>

    </a>
    blackscholes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        blackscholes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../1.quickstart/" class="md-nav__link">
        1. Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../2.price/" class="md-nav__link">
        2. Price calculation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../3.the_greeks_blackscholes/" class="md-nav__link">
        3. The Greeks (Black-Scholes)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../4.the_greeks_black76/" class="md-nav__link">
        4. The Greeks (Black-76)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../5.itm/" class="md-nav__link">
        5. In-The-Money proxies
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          6. Option Structures
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        6. Option Structures
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-straddle" class="md-nav__link">
    1. Straddle 
  </a>
  
    <nav class="md-nav" aria-label="1. Straddle ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-straddle-blackscholesstraddlelong" class="md-nav__link">
    Long straddle (BlackScholesStraddleLong):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-straddle-blackscholesstraddleshort" class="md-nav__link">
    Short straddle (BlackScholesStraddleShort):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-strangle" class="md-nav__link">
    2. Strangle 
  </a>
  
    <nav class="md-nav" aria-label="2. Strangle ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-strangle-blackscholesstranglelong" class="md-nav__link">
    Long strangle (BlackScholesStrangleLong):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-strangle-blackscholesstrangleshort" class="md-nav__link">
    Short strangle (BlackScholesStrangleShort):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-butterfly" class="md-nav__link">
    3. Butterfly 
  </a>
  
    <nav class="md-nav" aria-label="3. Butterfly ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-call-butterfly-blackscholesbutterflylong" class="md-nav__link">
    Long (call) butterfly (BlackScholesButterflyLong):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-put-butterfly-blackscholesbutterflyshort" class="md-nav__link">
    Short (put) butterfly (BlackScholesButterflyShort):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-iron-condor" class="md-nav__link">
    4. Iron Condor 
  </a>
  
    <nav class="md-nav" aria-label="4. Iron Condor ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-iron-condor-blackscholesironcondorlong" class="md-nav__link">
    Long iron condor (BlackScholesIronCondorLong):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-iron-condor-blackscholesironcondorshort" class="md-nav__link">
    Short iron condor (BlackScholesIronCondorShort):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-spreads" class="md-nav__link">
    5. Spreads 
  </a>
  
    <nav class="md-nav" aria-label="5. Spreads ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bull-spread-blackscholesbullspread" class="md-nav__link">
    Bull spread (BlackScholesBullSpread)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bear-spread-blackscholesbearspread" class="md-nav__link">
    Bear spread (BlackScholesBearSpread)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calendar-call-spread-blackscholescalendarcallspread" class="md-nav__link">
    Calendar Call Spread (BlackScholesCalendarCallSpread)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calendar-put-spread-blackscholescalendarputspread" class="md-nav__link">
    Calendar Put Spread (BlackScholesCalendarPutSpread)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-iron-butterfly" class="md-nav__link">
    6. Iron Butterfly 
  </a>
  
    <nav class="md-nav" aria-label="6. Iron Butterfly ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-iron-butterfly" class="md-nav__link">
    Long iron butterfly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-iron-butterfly" class="md-nav__link">
    Short iron butterfly
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../7.references/" class="md-nav__link">
        7. Source Code References
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../8.disclaimer/" class="md-nav__link">
        8. Disclaimer
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-straddle" class="md-nav__link">
    1. Straddle 
  </a>
  
    <nav class="md-nav" aria-label="1. Straddle ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-straddle-blackscholesstraddlelong" class="md-nav__link">
    Long straddle (BlackScholesStraddleLong):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-straddle-blackscholesstraddleshort" class="md-nav__link">
    Short straddle (BlackScholesStraddleShort):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-strangle" class="md-nav__link">
    2. Strangle 
  </a>
  
    <nav class="md-nav" aria-label="2. Strangle ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-strangle-blackscholesstranglelong" class="md-nav__link">
    Long strangle (BlackScholesStrangleLong):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-strangle-blackscholesstrangleshort" class="md-nav__link">
    Short strangle (BlackScholesStrangleShort):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-butterfly" class="md-nav__link">
    3. Butterfly 
  </a>
  
    <nav class="md-nav" aria-label="3. Butterfly ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-call-butterfly-blackscholesbutterflylong" class="md-nav__link">
    Long (call) butterfly (BlackScholesButterflyLong):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-put-butterfly-blackscholesbutterflyshort" class="md-nav__link">
    Short (put) butterfly (BlackScholesButterflyShort):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-iron-condor" class="md-nav__link">
    4. Iron Condor 
  </a>
  
    <nav class="md-nav" aria-label="4. Iron Condor ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-iron-condor-blackscholesironcondorlong" class="md-nav__link">
    Long iron condor (BlackScholesIronCondorLong):
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-iron-condor-blackscholesironcondorshort" class="md-nav__link">
    Short iron condor (BlackScholesIronCondorShort):
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-spreads" class="md-nav__link">
    5. Spreads 
  </a>
  
    <nav class="md-nav" aria-label="5. Spreads ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bull-spread-blackscholesbullspread" class="md-nav__link">
    Bull spread (BlackScholesBullSpread)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bear-spread-blackscholesbearspread" class="md-nav__link">
    Bear spread (BlackScholesBearSpread)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calendar-call-spread-blackscholescalendarcallspread" class="md-nav__link">
    Calendar Call Spread (BlackScholesCalendarCallSpread)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calendar-put-spread-blackscholescalendarputspread" class="md-nav__link">
    Calendar Put Spread (BlackScholesCalendarPutSpread)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-iron-butterfly" class="md-nav__link">
    6. Iron Butterfly 
  </a>
  
    <nav class="md-nav" aria-label="6. Iron Butterfly ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#long-iron-butterfly" class="md-nav__link">
    Long iron butterfly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#short-iron-butterfly" class="md-nav__link">
    Short iron butterfly
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="6-option-structures">6. Option Structures</h1>
<script src="//yihui.org/js/math-code.js" defer></script>
<!-- Just one possible MathJax CDN below. You may use others. -->
<script defer
  src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<p>Several options can be compounded in what we call "Option Structures". 
This allows us to hedge out directional bets and bet purely on volatility.</p>
<p>The structures that we discuss here:</p>
<ol>
<li><a href="#straddle">Straddle</a></li>
<li><a href="#strangle">Strangle</a></li>
<li><a href="#butterfly">Butterfly</a></li>
<li><a href="#condor">Iron Condor</a></li>
<li><a href="#spreads">Spreads</a></li>
<li><a href="#ironbutterfly">Iron Butterfly</a></li>
</ol>
<p>All structures have a long and short version. 
<code>price</code>, <code>get_core_greeks</code>, <code>get_all_greeks</code> and all greeks can individually be retrieved from the compound structures. To
see what greeks can be computed check section 
<a href="https://carlolepelaars.github.io/blackscholes/3.the_greeks_blackscholes">3.The Greeks (Black Scholes)</a>.</p>
<h2 id="parameters">Parameters</h2>
<p>Reference of all symbols that are used in the formulas:</p>
<p><code>$C$</code> = Call option</p>
<p><code>$P$</code> = Put option</p>
<p><code>$S$</code> = Asset price</p>
<p><code>$K$</code> = Strike price</p>
<p><code>$T$</code> = Time to maturity (in years)</p>
<p><code>$r$</code> = Risk-free rate</p>
<p><code>$sigma$</code> = Volatility</p>
<h2 id="1-straddle">1. Straddle <a name="straddle"></a></h2>
<p>Straddles are built a call and put option with the same strike price <code>$K$</code>
and the same expiration date. If applied correctly this allows one to profit 
from volatility regardless of the direction of the underlying asset.</p>
<h3 id="long-straddle-blackscholesstraddlelong">Long straddle (<code>BlackScholesStraddleLong</code>):</h3>
<p>$$P(K) + C(K)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesStraddleLong</span>

<span class="n">straddle</span> <span class="o">=</span> <span class="n">BlackScholesStraddleLong</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                                    <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">straddle</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## 7.5539</span>
<span class="n">straddle</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## 0.5328</span>
</code></pre></div>

<h3 id="short-straddle-blackscholesstraddleshort">Short straddle (<code>BlackScholesStraddleShort</code>):</h3>
<p>$$-P(K) - C(K)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesStraddleShort</span>

<span class="n">straddle</span> <span class="o">=</span> <span class="n">BlackScholesStraddleShort</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                                     <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">straddle</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## -7.5539</span>
<span class="n">straddle</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## -0.5328</span>
</code></pre></div>

<h2 id="2-strangle">2. Strangle <a name="strangle"></a></h2>
<p>Strangles are similar to straddles, but now the call and put
option have different strike prices. This structure can be 
profitable if the underlying asset will have a large movement, 
regardless of which direction the movement is.</p>
<p><code>$K_1$</code> = Strike price for the put.</p>
<p><code>$K_2$</code> = Strike price for the call.</p>
<p>It must hold that <code>$K_1 &lt; K_2$</code>.</p>
<h3 id="long-strangle-blackscholesstranglelong">Long strangle (<code>BlackScholesStrangleLong</code>):</h3>
<p>$$P(K_1) + C(K_2)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesStrangleLong</span>

<span class="n">strangle</span> <span class="o">=</span> <span class="n">BlackScholesStrangleLong</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                                    <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">strangle</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## 6.3800</span>
<span class="n">strangle</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## 0.7530</span>
</code></pre></div>

<h3 id="short-strangle-blackscholesstrangleshort">Short strangle (<code>BlackScholesStrangleShort</code>):</h3>
<p>$$-P(K_1) - C(K_2)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesStrangleShort</span>

<span class="n">strangle</span> <span class="o">=</span> <span class="n">BlackScholesStrangleShort</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                                     <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">strangle</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## -6.3800</span>
<span class="n">strangle</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## -0.7530</span>
</code></pre></div>

<h2 id="3-butterfly">3. Butterfly <a name="butterfly"></a></h2>
<p>The butterfly is a combination of three options. One implements this 
when one believes the future volatility of the underlying asset is 
going to be lower or higher than the implied volatility 
when long or short, respectively.</p>
<p>Choose three strike prices <code>$K_1$</code>, <code>$K_2$</code> and <code>$K_3$</code>.</p>
<p>Two conditions must hold when choosing strike prices:</p>
<ul>
<li>
<p><code>$K_1&lt;K_2&lt;K_3$</code></p>
</li>
<li>
<p><code>$K_2-K_1=K_3-K_2$</code> (i.e. option position should be symmetric)</p>
</li>
</ul>
<h3 id="long-call-butterfly-blackscholesbutterflylong">Long (call) butterfly (<code>BlackScholesButterflyLong</code>):</h3>
<p>$$C(K_1) - 2C(K_2) + C(K_3)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesButterflyLong</span>

<span class="n">butterfly</span> <span class="o">=</span> <span class="n">BlackScholesButterflyLong</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">K3</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> 
                                      <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">butterfly</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## 3.9993</span>
<span class="n">butterfly</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## -0.2336</span>
</code></pre></div>

<h3 id="short-put-butterfly-blackscholesbutterflyshort">Short (put) butterfly (<code>BlackScholesButterflyShort</code>):</h3>
<p>$$-P(K_1) + 2P(K_2) - P(K_3)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesButterflyShort</span>

<span class="n">butterfly</span> <span class="o">=</span> <span class="n">BlackScholesButterflyShort</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">K3</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> 
                                       <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">butterfly</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## -3.9993</span>
<span class="n">butterfly</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## 0.2336</span>
</code></pre></div>

<h2 id="4-iron-condor">4. Iron Condor <a name="condor"></a></h2>
<p>The iron condor makes use of four different strike prices and
is a variant of the butterfly. The structure involves
2 call options and 2 put options.</p>
<p>Choose four strike prices <code>$K_1$</code>, <code>$K_2$</code>, <code>$K_3$</code> and <code>$K_4$</code>.</p>
<p>Two conditions must hold when choosing strike prices:</p>
<ul>
<li>
<p><code>$K_1&lt;K_2&lt;K_3&lt;K_4$</code></p>
</li>
<li>
<p><code>$K_4-K_3=K_2-K_1$</code> (i.e. option position should be symmetric)</p>
</li>
</ul>
<h3 id="long-iron-condor-blackscholesironcondorlong">Long iron condor (<code>BlackScholesIronCondorLong</code>):</h3>
<p>$$-P(K_1) + P(K_2) + C(K_3) - C(K_4)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesIronCondorLong</span>

<span class="n">iron_condor</span> <span class="o">=</span> <span class="n">BlackScholesIronCondorLong</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">K3</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">K4</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> 
                                         <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">iron_condor</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## 4.0742</span>
<span class="n">iron_condor</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## 0.1572</span>
</code></pre></div>

<h3 id="short-iron-condor-blackscholesironcondorshort">Short iron condor (<code>BlackScholesIronCondorShort</code>):</h3>
<p>$$P(K_1) - P(K_2) - C(K_3) + C(K_4)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesIronCondorShort</span>

<span class="n">iron_condor</span> <span class="o">=</span> <span class="n">BlackScholesIronCondorShort</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">K3</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">K4</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> 
                                          <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">iron_condor</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## -4.0742</span>
<span class="n">iron_condor</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## -0.1572</span>
</code></pre></div>

<h2 id="5-spreads">5. Spreads <a name="spreads"></a></h2>
<p>A spread consists of buying and selling one option of the same type with different strike prices.
The potential payoff and losses are hereby bounded on both sides.</p>
<p>Choose two strike prices <code>$K_1$</code> and <code>$K_2$</code>.</p>
<h3 id="bull-spread-blackscholesbullspread">Bull spread (<code>BlackScholesBullSpread</code>)</h3>
<p>For a bull spread:</p>
<ol>
<li>
<p>Buy one call option with a lower strike price.</p>
</li>
<li>
<p>Sell one call option with a higher strike price.</p>
</li>
</ol>
<p>It must hold that <code>$K_1 &lt; K_2$</code>.</p>
<p>$$C(K_1) - C(K_2)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesBullSpread</span>
<span class="n">bull_spread</span> <span class="o">=</span> <span class="n">BlackScholesBullSpread</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                                     <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">bull_spread</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## 8.8011</span>
<span class="n">bull_spread</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## 0.2202</span>
</code></pre></div>

<h3 id="bear-spread-blackscholesbearspread">Bear spread (<code>BlackScholesBearSpread</code>)</h3>
<p>For a bear spread:</p>
<ol>
<li>
<p>Buy one put option with a higher strike price.</p>
</li>
<li>
<p>Sell one put option with a lower strike price.</p>
</li>
</ol>
<p>It must hold that <code>$K_1 &gt; K_2$</code>.</p>
<p>$$P(K_1) - P(K_2)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesBearSpread</span>
<span class="n">bear_spread</span> <span class="o">=</span> <span class="n">BlackScholesBearSpread</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                                     <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">bear_spread</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## 1.1740</span>
<span class="n">bear_spread</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## -0.2202</span>
</code></pre></div>

<h3 id="calendar-call-spread-blackscholescalendarcallspread">Calendar Call Spread (<code>BlackScholesCalendarCallSpread</code>)</h3>
<p>For a calendar call spread:</p>
<ol>
<li>
<p>Buy one call option with a longer time to maturity. If this 1st option has a different strike price we call it a diagonal spread. Else we call it a horizontal spread.</p>
</li>
<li>
<p>Sell one call option with a shorter time to maturity.</p>
</li>
</ol>
<p>It must hold that <code>$T_1 &gt; T_2$</code>.</p>
<p>$$C(K_1, T_1) - C(K_2, T_2)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesCalendarCallSpread</span>
<span class="n">calendar_call_spread</span> <span class="o">=</span> <span class="n">BlackScholesCalendarCallSpread</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">T1</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">T2</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                                                      <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

<span class="n">calendar_call_spread</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## 9.5308</span>
<span class="n">calendar_call_spread</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## 0.1543</span>
</code></pre></div>

<h3 id="calendar-put-spread-blackscholescalendarputspread">Calendar Put Spread (<code>BlackScholesCalendarPutSpread</code>)</h3>
<p>For a calendar put spread:</p>
<ol>
<li>
<p>Buy one put option with a longer time to maturity. If this 1st option has a different strike price we call it a diagonal spread. Else we call it a horizontal spread.</p>
</li>
<li>
<p>Sell one put option with a shorter time to maturity.</p>
</li>
</ol>
<p>It must hold that <code>$T_1 &gt; T_2$</code>.</p>
<p>$$P(K_1, T_1) - P(K_2, T_2)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesCalendarPutSpread</span>
<span class="n">calendar_call_spread</span> <span class="o">=</span> <span class="n">BlackScholesCalendarPutSpread</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">T1</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">T2</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                                                      <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

<span class="n">calendar_put_spread</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## -0.5066</span>
<span class="n">calendar_put_spread</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## 0.1543</span>
</code></pre></div>

<h2 id="6-iron-butterfly">6. Iron Butterfly <a name="ironbutterfly"></a></h2>
<p>An iron butterfly combines concepts from the iron condor and butterfly.
In principle it is very similar to an iron condor, but all strike prices
must be equidistant. Like with the iron condor we combine two put options
and two call options. Two options will have the same strike price.</p>
<p>Choose three strike prices <code>$K_1$</code>, <code>$K_2$</code>, <code>$K_3$</code>.</p>
<p>Two conditions must hold when choosing strike prices:</p>
<ul>
<li>
<p><code>$K_1&lt;K_2&lt;K_3$</code></p>
</li>
<li>
<p><code>$K_3-K_2=K_2-K_1$</code> (i.e. equidistant strike prices).</p>
</li>
</ul>
<h3 id="long-iron-butterfly">Long iron butterfly</h3>
<p>$$-P(K_1) + P(K_2) + C(K_2) - C(K_3)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesIronButterflyLong</span>
<span class="n">iron_butterfly</span> <span class="o">=</span> <span class="n">BlackScholesIronButterflyLong</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">K3</span><span class="o">=</span><span class="mi">105</span><span class="p">,</span> 
                                               <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">iron_butterfly</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## 4.9873</span>
<span class="n">iron_butterfly</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## -0.0001</span>
</code></pre></div>

<h3 id="short-iron-butterfly">Short iron butterfly</h3>
<p>$$P(K_1) + - P(K_2) - C(K_2) + C(K_3)$$</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">blackscholes</span> <span class="kn">import</span> <span class="n">BlackScholesIronButterflyShort</span>
<span class="n">iron_butterfly</span> <span class="o">=</span> <span class="n">BlackScholesIronButterflyShort</span><span class="p">(</span><span class="n">S</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span> <span class="n">K2</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">K3</span><span class="o">=</span><span class="mi">105</span><span class="p">,</span> 
                                                <span class="n">T</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.0025</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="n">iron_butterfly</span><span class="o">.</span><span class="n">price</span><span class="p">()</span>  <span class="c1">## -4.9873</span>
<span class="n">iron_butterfly</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span>  <span class="c1">## 0.0001</span>
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../5.itm/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 5. In-The-Money proxies" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              5. In-The-Money proxies
            </div>
          </div>
        </a>
      
      
        
        <a href="../7.references/" class="md-footer__link md-footer__link--next" aria-label="Next: 7. Source Code References" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              7. Source Code References
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "navigation.tabs", "navigation.tracking", "navigation.tabs.sticky", "navigation.expand"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>